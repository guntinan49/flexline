<script>
const loadingMsg = document.getElementById("loadingMsg");
const successMsg = document.getElementById("successMsg");
const errorMsg   = document.getElementById("errorMsg");

loadingMsg.style.display = "block";

const flexMessage = {
  type: "flex",
  altText: "üìö ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ô‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô ‡πÇ‡∏î‡∏¢ ‡∏ô‡∏ï‡∏ó.‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2",
  contents: {
    type: "bubble",
    body: {
      type: "box",
      layout: "vertical",
      contents: [
        {
          type: "image",
          url: "https://img5.pic.in.th/file/secure-sv1/ezgif.com-gif-to-apng-converter70850b2b0c3a2b52.gif",
          size: "full",
          aspectMode: "cover",
          aspectRatio: "2.3:3",
          animated: true
        }
      ]
    }
  }
};

async function main() {
  try {
    await liff.init({ liffId: "PUT_YOUR_LIFF_ID_HERE" });

    if (!liff.isInClient()) {
      throw new Error("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏õ LINE");
    }

    await liff.shareTargetPicker([flexMessage]);

    loadingMsg.style.display = "none";
    successMsg.style.display = "block";

  } catch (err) {
    loadingMsg.style.display = "none";
    errorMsg.style.display = "block";
    errorMsg.innerText = "‚ùå " + err.message;
  }
}

main();
</script>
